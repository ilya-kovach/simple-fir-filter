Цель данной работы: практическая реализация цифрового КИХ фильтра в ПЛИС.
Проект сделан на базе платы marsohod2 (http://marsohod.org/howtostart/marsohod2)
Плата имеет 8-ми битную АЦП ADC1175, и ПЛИС Altera Cyclone III, EP3C10E144C8.

В качестве источника тестового аналогового сигнала используется звуковая карта ноутбука. 
Таким образом, вход АЦП платы подключен к аудио выходу ноутбука через делитель напряжения на переменном резисторе.
Общий вид установки: 

![Иллюстрация к проекту](https://github.com/ilya-kovach/simple-fir-filter/raw/master/pictures/plata.jpg)

Поскольку исследуемый аудио сигнал лежит в области звуковых частот, частоту дискретизации выбираем 50000Гц.
Предположим, мы хотим сделать фильтр нижних частот с частотой среза 6000Гц.
Для поиска коэффициентов для умножителей КИХ фильтра используем онлайн 
программу T-Filter http://t-filter.engineerjs.com/

Для учебных целей делаю фильтр с очень пологой АЧХ, чтобы у фильтра было не очень большое количество 
коэффициентов и его было просто реализовать. Всего 9 целочисленных коэффициентов.
АЧХ фильтра: 

![Иллюстрация к проекту](https://github.com/ilya-kovach/simple-fir-filter/raw/master/pictures/coef.PNG)

Для синтеза и воспроизведения тестового аудио сигнала используем программу аудио редактора Audacity.
Программа позволяет синтезировать синусоидальные, прамоугольные или пилообразные импульсы разных частот и амплитуд.
Например, создадим тестовый аудио файл с прямоугольными импульсами частотой 2000Гц:

![Иллюстрация к проекту](https://github.com/ilya-kovach/simple-fir-filter/raw/master/pictures/audasity.PNG)

Общий вид схемы самого верхнего уровня проекта ПЛИС. 

![Иллюстрация к проекту](https://github.com/ilya-kovach/simple-fir-filter/raw/master/pictures/shema.PNG)

Здесь виден PLL, который выступает в качестве делителя частоты, выдает частоту дискретизации 50000Гц.
Эта частота подается на выход ПЛИС, на тактирование внешнего АЦП и на два цифровых фильтра внутри ПЛИС.
Оцифрованные данные поступают на вычитатель, где из 8-ми битного положительного числа в 
результате вычитания константы 128 получается знаковое число от -128 до 127.
Эти выборки подаются на два цифровых фильтра, выполненных по разной методике: 
один фильтр сделан в виде схемы, а второй написан на Verilog HDL (файл fir_filter_verilog.v).

Схема первого фильтра:

![Иллюстрация к проекту](https://github.com/ilya-kovach/simple-fir-filter/raw/master/pictures/firfilter.PNG)

Встроенным в ПЛИС анализатором сигналов SignalTap можно захватить и посмотреть внутренние сигналы проекта ПЛИС.
ADC_D - входной сигнал. result и fir_out - выходные сигналы, прошедшие фильтр my_fir и fir_filter_verilog соответственно. 

![Иллюстрация к проекту](https://github.com/ilya-kovach/simple-fir-filter/raw/master/pictures/signal-tap.PNG)

В анализаторе SignalTap видно, что оба реализованных мною фильтра, в виде 
схемы и в виде описания на Verilog HDL работают идентично.
